<art-logged-out>
  <h1>Login</h1>
  <form [formGroup]="form">
    <!-- {{ form.value | json }} -->

    <div class="form-group">
      <art-input
        placeholder="Email Address"
        formControlName="email"
      ></art-input>
      <art-form-field-error
        *ngIf="form.controls.email.dirty && form.controls.email.invalid"
      >
        Invalid email address.
      </art-form-field-error>
    </div>

    <div class="form-group">
      <art-input
        placeholder="Password"
        type="password"
        formControlName="password"
        (enterKeyed)="form.valid && onSubmit()"
      ></art-input>
      <art-form-field-error
        *ngIf="
          form.controls.password.dirty &&
          form.hasError('required', ['password'])
        "
      >
        Password is required.
      </art-form-field-error>
    </div>

    <art-form-status-error *ngIf="(status$ | async) === statuses.Failure">
      Invalid email address or password.
    </art-form-status-error>

    <div class="form-group center" *ngIf="status$ | async as status">
      <art-progress-button
        label="Login"
        [updating]="
          status === statuses.Loading || status === statuses.Success
        "
        [disabled]="
          status === statuses.Loading || status === statuses.Success
        "
        (clicked)="onSubmit()"
      ></art-progress-button>
    </div>
  </form>

  <div class="flex flex-col items-center">
    <a class="link block m-2 border-none" routerLink="/reset-password" footer>
      Lost your password?
    </a>
  </div>
</art-logged-out>

<!-- <div>{{ version }}</div> -->
